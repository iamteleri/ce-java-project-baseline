{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ListUserComponent = class ListUserComponent {\n  constructor(service, toastr, router) {\n    this.service = service;\n    this.toastr = toastr;\n    this.router = router;\n    this.currentPage = 0;\n    this.users = [];\n  }\n  ngOnInit() {\n    this.listUsers(this.currentPage);\n  }\n  listUsers(page) {\n    this.service.lista(page).subscribe(data => {\n      this.users = data.content;\n      this.currentPage = data.pageable.pageNumber + 1;\n      this.totalSize = data.totalElements;\n      this.lastPage = data.totalPages;\n    }, err => {\n      console.log(err);\n    });\n  }\n  delete(id) {\n    this.service.delete(id).subscribe(data => {\n      this.toastr.success('Usuario eliminado correctamente', '', {\n        timeOut: 3000,\n        positionClass: 'toast-top-center'\n      });\n      this.router.navigate(['/']);\n      this.listUsers(0);\n    }, err => {\n      console.log('Error: ' + err);\n    });\n  }\n};\nListUserComponent = __decorate([Component({\n  selector: 'app-list-user',\n  templateUrl: './list-user.component.html',\n  styleUrls: ['./list-user.component.css']\n})], ListUserComponent);\nexport { ListUserComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAA2B,eAAe;AAYrD,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAS5BC,YAAoBC,OAAoB,EAC9BC,MAAqB,EACrBC,MAAc;IAFJ,YAAO,GAAPF,OAAO;IACjB,WAAM,GAANC,MAAM;IACN,WAAM,GAANC,MAAM;IARhB,gBAAW,GAAW,CAAC;IAGvB,UAAK,GAAW,EAAE;EAKS;EAE3BC,QAAQ;IACN,IAAI,CAACC,SAAS,CAAC,IAAI,CAACC,WAAW,CAAC;EAClC;EAEAD,SAAS,CAACE,IAAY;IACpB,IAAI,CAACN,OAAO,CAACO,KAAK,CAACD,IAAI,CAAC,CAACE,SAAS,CAChCC,IAAI,IAAG;MACL,IAAI,CAACC,KAAK,GAAGD,IAAI,CAACE,OAAO;MACzB,IAAI,CAACN,WAAW,GAAGI,IAAI,CAACG,QAAQ,CAACC,UAAU,GAAG,CAAC;MAC/C,IAAI,CAACC,SAAS,GAAGL,IAAI,CAACM,aAAa;MACnC,IAAI,CAACC,QAAQ,GAAGP,IAAI,CAACQ,UAAU;IACjC,CAAC,EAAEC,GAAG,IAAG;MACPC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CACF;EACH;EAEAG,MAAM,CAACC,EAAU;IACf,IAAI,CAACtB,OAAO,CAACqB,MAAM,CAACC,EAAE,CAAC,CAACd,SAAS,CAC/BC,IAAI,IAAG;MACL,IAAI,CAACR,MAAM,CAACsB,OAAO,CAAC,iCAAiC,EAAE,EAAE,EAAE;QACzDC,OAAO,EAAE,IAAI;QAAEC,aAAa,EAAE;OAC/B,CAAC;MACF,IAAI,CAACvB,MAAM,CAACwB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;MAC3B,IAAI,CAACtB,SAAS,CAAC,CAAC,CAAC;IACnB,CAAC,EAAEc,GAAG,IAAG;MACPC,OAAO,CAACC,GAAG,CAAC,SAAS,GAAGF,GAAG,CAAC;IAC9B,CAAC,CACF;EACH;CAED;AA5CYpB,iBAAiB,eAL7BD,SAAS,CAAC;EACT8B,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,GACW/B,iBAAiB,CA4C7B;SA5CYA,iBAAiB","names":["Component","ListUserComponent","constructor","service","toastr","router","ngOnInit","listUsers","currentPage","page","lista","subscribe","data","users","content","pageable","pageNumber","totalSize","totalElements","lastPage","totalPages","err","console","log","delete","id","success","timeOut","positionClass","navigate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/arobles/CE/userfront/src/app/users/list-user/list-user.component.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { User } from 'src/app/models/user';\nimport { UserService } from 'src/app/service/user.service';\n\n\n@Component({\n  selector: 'app-list-user',\n  templateUrl: './list-user.component.html',\n  styleUrls: ['./list-user.component.css']\n})\nexport class ListUserComponent implements OnInit {\n\n\n  currentPage: number = 0;\n  totalSize!: number;\n  lastPage!: number; \n  users: User[] = [];\n  \n  \n  constructor(private service: UserService,\n    private toastr: ToastrService,\n    private router: Router) {}\n\n  ngOnInit() {\n    this.listUsers(this.currentPage);\n  }\n\n  listUsers(page: number): void {\n    this.service.lista(page).subscribe(\n      data => {\n        this.users = data.content;\n        this.currentPage = data.pageable.pageNumber + 1;\n        this.totalSize = data.totalElements;\n        this.lastPage = data.totalPages;\n      }, err => {\n        console.log(err);\n      }\n    );\n  }\n\n  delete(id: string): void {\n    this.service.delete(id).subscribe(\n      data => {\n        this.toastr.success('Usuario eliminado correctamente', '', {\n          timeOut: 3000, positionClass: 'toast-top-center'\n        });\n        this.router.navigate(['/']);\n        this.listUsers(0);\n      }, err => {\n        console.log('Error: ' + err)\n      }\n    )\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}